<!DOCTYPE html>
<html lang="ko" xmlns="http://www.thymeleaf.org">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>BTS</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-kenU1KFdBIe4zVF0s0G1M5b4hcpxyD9F7jL+jjXkk+Q2h455rYXK/7HAuoJl+0I4"
    crossorigin="anonymous"></script>
  <link rel="stylesheet" th:href="@{/css/userBoard.css}">
 
</head>

<body>
  <header th:replace="~{/fragments/header.html :: fragment-header}"></header>
  <div th:replace="~{/fragments/headnav.html :: fragment-nav}"></div>

  <div class="userBoardHome">
    <h1>User Board Home</h1>
    <p>게시물 리스트</p>
  </div>
  <table class="homeTable">
    <thead class="table-light">
      <tr id="userBoardTr">
        <th>번호</th>
        <!-- <th>내용</th> -->
        <th>제목</th>
        <th>작성자</th>
        <!-- 수정하면 수정일을 확인하기위해 표시함 -->
        <!-- <th class="longText">DateTime</th> -->
        <th>작성일</th>
        <th>추천수</th>
        <!-- <th>img</th> -->
      </tr>
    </thead>
    <tbody>
      <tr th:each="userBoard : ${userBoards}" id="userBoardTr">
        <td><a th:href="@{|/userBoard/Read/${userBoard.userBoardNumber}|}" th:text="${userBoard.userBoardNumber}"></a></td>
        <!-- 타임리프에서 쓰려면 이렇게 써야 번호가 나온다 -->
        <td><a th:href="@{|/userBoard/Read/${userBoard.userBoardNumber}|}" th:text="${userBoard.userBoardTitle}"></a></td>
        <!-- <td><a th:href="@{|/userBoard/Read/${userBoard.userBoardNumber}|}" th:text="${userBoard.userBoardContent}"></a></td> -->
        <!-- 작성자 / 멤버ID 및 로그인아이디 -->
        <td class="userBoardMemberId" th:text="${userBoard.memberId}"></td>
        <!-- <td th:text="${userBoard.DateTime}"></td>  -->
        <td th:text="${userBoard.UpdateDateTime}"></td>
        <td th:text="${offerCount}"></td>
        <!-- <td th:text="${userBoard.img}"></td>  -->
      </tr>
    
    </tbody>
  </table>
  <a href="/userBoard/Create"><input type="button" value="등록" class="btn-runa"></a>
  <a href="/"><input type="button" value="홈으로" class="btn-runa"></a>

  <div th:replace="~{fragments/footer.html :: fragment-footer}"></div>

    
  <script th:inline="javascript">
    //멤버 아이디를 로그인 아이디로 바꿔주는 방법(/컨트롤러)
    "use strict"
  {// 괄호를 쳐주면 이 안에서만 변수쓴다.
    const userBoards = /*[[${userBoards}]]*/""; 
    const members = /*[[${memberNames}]]*/""; 
    const userBoardNode = document.getElementsByClassName("userBoardMemberId");
    let tmp;
    for(let i = 0; i< userBoards.length; i++){
      tmp = userBoardNode[i].innerHTML;
      userBoardNode[i].innerHTML = members[tmp];
    }
  }
  </script>

</body>

</html>